<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{css/index.css}" media="screen" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Icones -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    
    <title>Usuários</title>
   </head>
<body>
  <div class="sidebar">
    <div class="logo-details">
      <img th:src="@{/img/logo/logo.png}" id="logoNav" alt="Logo">
    </div>
      <ul class="nav-links">
        <li>
          <a th:href="@{/crud}">
            <i class='bx bx-home-alt' ></i>
            <span class="links_name">Geral</span>
          </a>
        </li>
        <li>
          <a th:href="@{/crudAdministradores}">
            <i class='bx bxs-institution'></i>
            <span class="links_name">Administradores</span>
          </a>
        </li>
        <li>
          <a th:href="@{/crudAluno}" class="active">
            <i class='bx bx-group' ></i>
            <span class="links_name">Usuários</span>
          </a>
        </li>
        <li>
          <a th:href="@{/crudEstatisticas}">
            <i class='bx bx-pie-chart-alt-2'></i>
            <span class="links_name">Estatísticas</span>
          </a>
        </li>
        <li class="log_out">
          <a th:href="@{/}">
            <i class='bx bx-log-out'></i>
            <span class="links_name">Sair</span>
          </a>
        </li>
      </ul>
  </div>
  <section class="home-section">
  <script>
   let sidebar = document.querySelector(".sidebar");
let sidebarBtn = document.querySelector(".sidebarBtn");
sidebarBtn.onclick = function() {
  sidebar.classList.toggle("active");
  if(sidebar.classList.contains("active")){
  sidebarBtn.classList.replace("bx-menu" ,"bx-menu-alt-right");
}else
  sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
}
</script>

  <div class="crudContainer">
      <div class="headerCrud">
        <span>Usuários</span>
        <a id="new" th:href="@{/criar-usuario-admin}">Adicionar Usuário</a>
      </div>

      <div class="divTable">
        <table>
          <thead>
            <tr>
              <th>ID do usuário</th>
              <th>Nome</th>
              <th>Sobrenome</th>
              <th>E-mail</th>
              <th>Senha</th>
              <th>Telefone</th>
              <th>Capitulo Atual</th>
              <th>Editar</th>
              <th>Excluir</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="Usuario : ${usuarios}">
              <td th:text="${Usuario.id}"></td>
              <td th:text="${Usuario.nome}"></td>
              <td th:text="${Usuario.sobrenome}"></td>
              <td th:text="${Usuario.email}"></td>
              <td th:text="${Usuario.senha}"></td>
              <td th:text="${Usuario.telefone}"></td>
              <td th:text="${Usuario.capAtual}"></td>
              <td>
                <a th:href="@{/atualizar-usuario-admin/{id} (id = ${Usuario.id})}">
                  <svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.1567 2.92206L17.3284 6.09377C17.462 6.22739 17.462 6.4454 17.3284 6.57902L9.64876 14.2586L6.38562 14.6208C5.9496 14.6701 5.58039 14.3008 5.62962 13.8648L5.9918 10.6017L13.6714 2.92206C13.805 2.78844 14.0231 2.78844 14.1567 2.92206V2.92206ZM19.8531 2.11682L18.1371 0.40086C17.6027 -0.13362 16.7341 -0.13362 16.1961 0.40086L14.9514 1.64563C14.8177 1.77925 14.8177 1.99727 14.9514 2.13089L18.1231 5.3026C18.2567 5.43622 18.4747 5.43622 18.6083 5.3026L19.8531 4.05782C20.3876 3.51983 20.3876 2.6513 19.8531 2.11682V2.11682ZM13.5026 12.17V15.7496H2.25044V4.49736H10.3309C10.4434 4.49736 10.5489 4.45165 10.6298 4.37429L12.0363 2.96777C12.3036 2.70053 12.1137 2.24692 11.7374 2.24692H1.68783C0.756007 2.24692 0 3.00293 0 3.93475V16.3122C0 17.244 0.756007 18 1.68783 18H14.0652C14.9971 18 15.7531 17.244 15.7531 16.3122V10.7634C15.7531 10.3872 15.2995 10.2008 15.0322 10.4645L13.6257 11.8711C13.5483 11.9519 13.5026 12.0574 13.5026 12.17Z" fill="#A5CBE0"/>
                  </svg>
                </a>                                                
              </td>
              <td>
                <a onclick="confirmarExclusao(event)" class="excluir" th:href="@{/deletar-usuario-admin/{id} (id=${Usuario.id})}">
                  <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.5554 0H2.41258C1.34785 0 0.484009 0.863839 0.484009 1.92857V16.0714C0.484009 17.1362 1.34785 18 2.41258 18H16.5554C17.6202 18 18.484 17.1362 18.484 16.0714V1.92857C18.484 0.863839 17.6202 0 16.5554 0ZM4.18044 10.6071C3.91526 10.6071 3.69829 10.3902 3.69829 10.125V7.875C3.69829 7.60982 3.91526 7.39286 4.18044 7.39286H14.7876C15.0528 7.39286 15.2697 7.60982 15.2697 7.875V10.125C15.2697 10.3902 15.0528 10.6071 14.7876 10.6071H4.18044Z" fill="#FF7575"/>
                  </svg>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script th:src="@{/js/confirmar.js}"></script>
</body>
</html>